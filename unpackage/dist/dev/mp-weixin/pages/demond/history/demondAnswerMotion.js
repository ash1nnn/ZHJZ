"use strict";const t=require("../../../common/vendor.js"),l=require("../../../app.js"),a=require("../../../api.js"),u={data(){return{scrollTop:0,userId:"",chatMsg:"",msgList:[]}},computed:{windowHeight(){return this.rpxTopx(t.index.getSystemInfoSync().windowHeight)}},created(){this.initial()},methods:{async initial(){console.log(l.default.demandId),console.log(t.index.getStorageSync("demondId"));let n="demandId="+t.index.getStorageSync("demandId"),o=await a.myrequest(a.oneDemandUrl,"GET",{demandId:n});console.log(o);let s={botContent:"",recordId:0,titleId:0,userContent:"你好我要留言",ansContent:"",userId:0};this.msgList.push(s);let i={botContent:"",recordId:0,titleId:0,userContent:o.data.demand.demandDesc,ansContent:"",userId:0};this.msgList.push(i);let d={botContent:"收到您的留言了，您的家人正在拯救宇宙，请等待回复。",recordId:0,titleId:0,userContent:"",ansContent:"",userId:0};if(this.msgList.push(d),o.data.replyContent){let r={botContent:"",recordId:0,titleId:0,userContent:"",ansContent:o.data.replyContent,userId:0};this.msgList.push(r)}},rpxTopx(n){let s=750/t.wx$1.getSystemInfoSync().windowWidth*Number(n);return Math.floor(s)},handleSend(){if(!this.chatMsg||!/^\s+$/.test(this.chatMsg)){let n={botContent:"",recordId:0,titleId:0,userContent:this.chatMsg,userId:0};this.msgList.push(n),this.chatMsg=""}else this.$modal.showToast("不能发送空白消息")}}};function h(n,o,s,i,d,r){return{a:t.f(d.msgList,(e,c,p)=>t.e({a:e.userContent!=""},e.userContent!=""?{b:t.t(e.userContent)}:{},{c:e.botContent!=""},e.botContent!=""?{d:t.t(e.botContent)}:{},{e:e.ansContent!=""},e.ansContent!=""?{f:t.t(e.ansContent)}:{},{g:c})),b:`${r.windowHeight}rpx`,c:d.scrollTop}}const g=t._export_sfc(u,[["render",h],["__scopeId","data-v-6faf52db"],["__file","C:/Users/lcz/Documents/GitHub/ZHJZ/pages/demond/history/demondAnswerMotion.vue"]]);wx.createPage(g);
